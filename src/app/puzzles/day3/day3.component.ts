import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-day3',
  templateUrl: './day3.component.html',
  styleUrls: ['./day3.component.scss']
})
export class Day3Component implements OnInit {

  map: any = [
    '.#..............##....#.#.####.',
    '##..........#.....##...........',
    '.......#....##...........#.#...',
    '.........#.#...#..........#....',
    '.........#..#................##',
    '..#...#..#..#...........#......',
    '...................#...##..##..',
    '........#.....##...#.#.#...#...',
    '#..#.##......#.#..#..........#.',
    '......#.#...#.#...#........##.#',
    '.....#.####........#...........',
    '...###..#............#.........',
    '.....#.......##......#...#.....',
    '#......##......................',
    '......#..............#.........',
    '..##...#....###.##.............',
    '#...#..........#.#.........#...',
    '...........#........#...#......',
    '.....##.........#......#..#....',
    '#..............#....#.....#....',
    '.#......#....#...#............#',
    '.####..........##..#.#.........',
    '....#...#......................',
    '....................#....#.#...',
    '..........###.#...............#',
    '.#...........#...##............',
    '.#.#..#.....#...#....#.......#.',
    '.##........#..#....#...........',
    '.........#.....#......###......',
    '..............#..#.......#.....',
    '........#..#.#...........#..#..',
    '#.........#......#.....##.#.#..',
    '........#.#.#....#.............',
    '........#........#.#.##........',
    '#......#.#..........#..#.......',
    '..#....#...##......###..#..#...',
    '............#..#.#.........#...',
    '....#.#...........#..........##',
    '.......#.#.#..#......#...#.....',
    '..#.........##.#.........#...#.',
    '......#....#.#....#........#.#.',
    '.#....###....#..............#..',
    '.#....#.......#....#..#.....#..',
    '.....#.....#...................',
    '..#.....#......#......#........',
    '......##.##...#...#...#...#.##.',
    '##...#....#...#..#...#...#.....',
    '..#.....#...#...##.##...#......',
    '.....#.............##...#......',
    '.....................#.##..#...',
    '#...#....#....#........#.....#.',
    '..#...#.........#...#..#.....#.',
    '#.#......#...................#.',
    '..#...........##...............',
    '..#....#........#..#...........',
    '...........#...................',
    '.............###......#....#...',
    '...........#...#....#..#....#..',
    '.....##............#.#.......#.',
    '.....#..#....#...#....#........',
    '...............##........#.#...',
    '.........#...#.#....#.......#..',
    '#..#.......#.......#...#.......',
    '..#...........................#',
    '......#.......#..#......#......',
    '.#.......#..................##.',
    '..#.........#..#.##.#....#...##',
    '...#..#....#...#....#.#........',
    '.#...#........##..#..#.......#.',
    '.....#........#....#....#..#...',
    '............#...........#......',
    '..###.......#..#....#......#...',
    '.....#...#.......#..#..........',
    '..#........##.#....##..........',
    '#....#.............#..##......#',
    '....#.................##.......',
    '...#.......#........#....##.#.#',
    '##..##..#.....#.....#..........',
    '...#...............#....#..#...',
    '.#...##....#....#.....#....##..',
    '...#.....#......#......#.......',
    '#.....#.......##.....#..#....##',
    '.....#.#...##.#......##....#.#.',
    '..........#....#.#...#.........',
    '.#..##...#.....................',
    '...........##..#...#....#......',
    '...#......#........#.......#...',
    '.#......#..#........#.....#..#.',
    '.......#........##..#.##....#..',
    '.##..........#..#...#.....#....',
    '.....##...............#.#......',
    '..##.....#..#......#..##.#.#...',
    '....#......#.##...........#....',
    '#.#..#.......#......#.#........',
    '...#.#..#....#............#..#.',
    '...#..........###....#....#...#',
    '........##...#.......#..#....#.',
    '..#...#.....#..#........##.....',
    '...#..#.##.#.#.##..............',
    '.......#...#.........#.....#..#',
    '..#.....#.#..........#..#......',
    '......#..........#......#.....#',
    '.#...........#........#......##',
    '..##............#......#...#..#',
    '#..................#...........',
    '#....#..#.........#........#..#',
    '..#.#....###..#...#...##...##..',
    '...#....#..#.....#.............',
    '.#........##.##...#....#...#...',
    '.........#.......##.#.....##...',
    '#.#.....##...#........#...#...#',
    '.....#.#.##...#.....#.##..#....',
    '........#...##...#...#.#..#..#.',
    '.##....#.##...#.......#........',
    '...#..#................#..#....',
    '....#.......#......#...#.##....',
    '#......###..#...#......#.......',
    '..#...#...##...........##......',
    '.......#...#..##....##......#..',
    '....#.#.............#.#...##..#',
    '..........#........#...#......#',
    '............#.#.#....###.......',
    '#..#...#.#.####...#..#...#.....',
    '.##.......#.##...#.............',
    '#..#...........#.#.##.......#..',
    '...#..#.#...#...###..#.#..#.#..',
    '..#...#.....#..#....#....#.....',
    '.........##.......#............',
    '.........##.##......###........',
    '.............#.#....#..#.....#.',
    '...#....#.#.......#......##....',
    '............#..................',
    '....##...#..........#...#..#...',
    '#..#....#.....#.......#.##.#..#',
    '.....#.........##.............#',
    '#.....#.#...#............##..##',
    '..............#....#.....#.....',
    '.#....###..#.#.....###.#..#....',
    '.....#....##...#....#......#...',
    '..........#...#....#...........',
    '............#....#..#.........#',
    '..##.....#.#...#.......#...#...',
    '...#...#..#......##...#.....##.',
    '......#.##............##.#....#',
    '....#......#...##.....#.....###',
    '.#.###...............#...#.#...',
    '..#....................##...#..',
    '.......#.....##...........#....',
    '#.........#....#....#....#....#',
    '..#.#..##.#.#..................',
    '.....#.......#................#',
    '...........#.......#........#..',
    '#...#.........#.#.....#.....#..',
    '..........#..#...........#.....',
    '#..#.##..##..#.#.##.........#..',
    '#..#..#....##..#.........#.....',
    '#.#.......................#.#..',
    '.##......#.#...#......#....#...',
    '..#.#................#..##.....',
    '.......#..................#...#',
    '.....#.........##.#....#.......',
    '#..........#..#.#..........#..#',
    '..#..#.....#.........#...#.....',
    '..............#.....#..#...#.##',
    '...............................',
    '...#............##......#.....#',
    '.......#..#.............#.#....',
    '...........#..........#........',
    '...#.####..#......#...#....#...',
    '##......#.##.....#.............',
    '....#.........#...#...........#',
    '...#........#.......#.#..#.#.#.',
    '..#.......#.........#....#.....',
    '................#.#.#.##...#..#',
    '#.##...#...#..#.....#.....#..#.',
    '...............#...........#...',
    '.....##.#...............##...#.',
    '.#..##.##......................',
    '.......#.........#..#..#.......',
    '...#......#..................#.',
    '...#.#..#....#....#............',
    '...........#...#..#....##......',
    '.....#...#..#.#....#....#....#.',
    '.......#...#...#.#.#...........',
    '....#......#......#...##..#....',
    '##...#.#.....#..#.##...........',
    '#.#..#.....#..#................',
    '...#..#.#......#.#...........##',
    '##....#...#.....###..#...#....#',
    '...#.....#.#.#......##...#...#.',
    '............#.......#..........',
    '....#..........###.......#.....',
    '.................##..##....#...',
    '...........#........##..#......',
    '...#.#...#.....#........#...#..',
    '#...#.#......#.#...........#...',
    '..#..........#....#..........#.',
    '..#................#...........',
    '#...#.#....#.#.......#.........',
    '.#...........##..#....#....#..#',
    '.##........#.....#...#..#....#.',
    '......#......#...#.............',
    '.......#..#...#.##....#..#.#...',
    '.......#......#....#....#.#.#..',
    '..........##.....#....##.#.....',
    '.........##..#...#.....#..#....',
    '...#....#..........#..#...#..#.',
    '.......#.....##.#..#.....#...#.',
    '#...#......#......#...#........',
    '#..#....#.#......#......#......',
    '.......#.##....................',
    '...##...#.....#......##......#.',
    '.#...................###.......',
    '....#........###...#........#..',
    '...#............#.....#..#.....',
    '..................#......#....#',
    '..##......#..##..##......#.#...',
    '........##....##.......#...#...',
    '.#.#....#.....#.....#....#....#',
    '...##.#.............#....##....',
    '.........#.....#...#......#....',
    '..#.....#............#....##...',
    '..##.....#.....##.##...........',
    '#....#.#.......#..#......#.....',
    '##.......#.....#.....####....#.',
    '##...#.......#...#.....#.......',
    '#.....#..##.##...##..#.....#..#',
    '..........#......#..#.#........',
    '..##.#......#..............#...',
    '.#...#..........#.......#....#.',
    '..#....##...#...........#....#.',
    '..#.........#..#......#......#.',
    '.##....#......#.#.........#..##',
    '.......#...#....##............#',
    '.##.................#.#........',
    '...#.#...#..#..#.....#.#.......',
    '.#.#.......#...................',
    '..#..#.....#......#.....##..##.',
    '.#........#.##......#..........',
    '....##...#............#.#....#.',
    '.......#.#..#....##.#....#....#',
    '......####...#..#.....#........',
    '..........#..#.........#.#..#.#',
    '..........##.........#.##......',
    '.##..#.#.....#.....#....#......',
    '............#..#...............',
    '.....##.........#...#...##...##',
    '........#.##.#...#.....#....#.#',
    '#......##.#.##..........##.....',
    '#..#..#........#.........#..#..',
    '...............#.#..##.........',
    '.#.......##.#..#....#...#....##',
    '.#..##.....##......#....#...#.#',
    '........#...#.........#.....#.#',
    '...........#............#...#..',
    '................#...........#..',
    '..............##........#....#.',
    '..........#.....##.....#..#....',
    '#......#....###..#..#..........',
    '.....#.#.....##....#.#.......#.',
    '...#...#...............#.#.....',
    '.............#.......#.........',
    '.....#.....#..#......#.....#...',
    '.........#.................#.##',
    '.#.....#.##..#.................',
    '..#......#.......#.....#...#..#',
    '..#..#.#.#...#.......#.##......',
    '..........#..#.........#.......',
    '.#..........#...#....#..#...##.',
    '.#.#.#.###.....#...#.#.#.......',
    '....##............#............',
    '.#.#.............#..#......#.#.',
    '.#.#..........##..#.....#..#.#.',
    '...........#.##..#...#.#.....#.',
    '...........#..#....#...........',
    '..#................#.#...#....#',
    '...............##........##....',
    '....#.............#........#...',
    '...#......#.#.#........#.......',
    '#..............#..##.#..##.....',
    '.#.#.###................##.....',
    '.............#..#.........#....',
    '.......##..#............#...#..',
    '...#...#...........#.....#.....',
    '........#......#.#.#......#..#.',
    '#.##.......#......#..#..#.#....',
    '...#........#...........#...#..',
    '..#...........#.........#......',
    '.............#....#....#.......',
    '....#.........#........#......#',
    '..#............##..#.........#.',
    '.#...#...#..#...#........#..#..',
    '...#....##..............#......',
    '...........#...#....#.#.##..###',
    '..#....#......#.........#..#...',
    '.......#...#...................',
    '.#...#.#...................#...',
    '.#.....##.#.......#.#.#...##..#',
    '.....#..#.#.........#...#..##..',
    '.#..#.##.#......#......#.#...#.',
    '......#..#....##..#....##....##',
    '#...#......##........##........',
    '.#.........###................#',
    '.................#..###..#.#...',
    '..#.#........#..#........#...#.',
    '#.#....#....#..#...#.#......#..',
    '.#.#.............###.........#.',
    '.....#...............##...#...#',
    '..............#...#........#..#',
    '...................#..#.......#',
    '#......................#.....#.',
    '...#.........#..##...#...#.##..',
    '.....#..........#.........#....',
    '.....#...#............#..#.....',
    '.............#............#....',
    '...#.........#.................',
    '#...........#.#...............#',
    '.....#...#.....#..#.##.......##',
    '...#....#.#...........#........',
    '.........................#.#...',
    '.#..#...........#.#........#...',
    '.............#.#.....#..#....#.',
    '.....#...#.###...#..#........#.',
  ];

  right: any = 3;
  down: any = 1;

  p1num: any = 0;
  p2num: any = 0;


  constructor() { }

  ngOnInit(): void {

    this.puzzle1();

    this.puzzle2();

  }

  puzzle1() {
    this.p1num = this.findTrees(3, 1);
  }

  puzzle2() {
    const angle1 = this.findTrees(1, 1);
    const angle2 = this.findTrees(3, 1);
    const angle3 = this.findTrees(5, 1);
    const angle4 = this.findTrees(7, 1);
    const angle5 = this.findTrees(1, 2);

    this.p2num = angle1 * angle2 * angle3 * angle4 * angle5;
  }

  findTrees(right, down) {
    let currentRow = 0;
    let currentCol = 1;
    let nextRow = currentRow + down;
    let nextCol = currentCol + right;
    let numTrees = 0;
    console.log(this.map[0]);
    this.map.forEach((row, i) => {
      if (i === nextRow) {
        currentRow = i;
        currentCol = nextCol;
        const rowSplit = row.split('');
        const rowLength = rowSplit.length;
        let type = '-';

        if (currentCol > rowLength) {
          const div = Math.trunc(currentCol / (rowLength));
          nextCol = currentCol - (div * (rowLength));
        }

        if (rowSplit[nextCol - 1] === '.') {
          type = 'O';
        } else if (rowSplit[nextCol - 1] === '#') {
          type = 'T';
          numTrees++;
        }

        const newRowL = row.substring(0, nextCol - 1);
        const newRowR = row.substring(nextCol);
        const newRow = newRowL + type + newRowR;

        console.log(newRow);

        nextRow += down;
        nextCol += right;
      }
    });
    console.log('With ' + right + ' right and ' + down + ' down, you will hit ' + numTrees + ' trees');
    return numTrees;
  }
}

